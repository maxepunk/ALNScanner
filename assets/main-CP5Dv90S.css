:root{--color-bg-primary: #0a0a0c;--color-bg-secondary: #121218;--color-bg-tertiary: #1a1a22;--color-bg-elevated: #22222c;--color-text-primary: #e8e8ec;--color-text-secondary: #9898a8;--color-text-muted: #686878;--color-text-inverse: #0a0a0c;--color-accent-primary: #c41e3a;--color-accent-secondary: #ff6b35;--color-accent-success: #22c55e;--color-accent-warning: #f59e0b;--color-accent-error: #ef4444;--color-accent-info: #3b82f6;--color-mode-detective: #22c55e;--color-mode-blackmarket: #ff6b35;--color-status-connected: #22c55e;--color-status-connecting: #f59e0b;--color-status-disconnected: #ef4444;--duplicate-bg: rgba(245, 158, 11, .15);--duplicate-border: var(--color-accent-warning);--duplicate-badge-bg: var(--color-accent-error);--duplicate-opacity: .7;--duplicate-opacity-card: .65;--duplicate-opacity-detail: .8;--color-border: #2a2a38;--color-border-subtle: #1a1a24;--color-border-focus: var(--color-accent-primary);--color-overlay: rgba(0, 0, 0, .75);--color-overlay-light: rgba(0, 0, 0, .5);--font-display: "JetBrains Mono", "Fira Code", "SF Mono", "Consolas", monospace;--font-body: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;--font-mono: "JetBrains Mono", "Fira Code", "SF Mono", "Consolas", monospace;--text-xs: .75rem;--text-sm: .875rem;--text-base: 1rem;--text-lg: 1.125rem;--text-xl: 1.25rem;--text-2xl: 1.5rem;--text-3xl: 1.875rem;--text-4xl: 2.25rem;--weight-normal: 400;--weight-medium: 500;--weight-semibold: 600;--weight-bold: 700;--leading-tight: 1.25;--leading-normal: 1.5;--leading-relaxed: 1.75;--tracking-tight: -.025em;--tracking-normal: 0;--tracking-wide: .025em;--tracking-wider: .05em;--tracking-widest: .1em;--space-0: 0;--space-1: .25rem;--space-2: .5rem;--space-3: .75rem;--space-4: 1rem;--space-5: 1.25rem;--space-6: 1.5rem;--space-8: 2rem;--space-10: 2.5rem;--space-12: 3rem;--space-16: 4rem;--touch-target-min: 44px;--touch-target-comfortable: 48px;--container-xs: 320px;--container-sm: 480px;--container-md: 640px;--container-lg: 768px;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px;--radius-full: 9999px;--border-width: 1px;--border-width-thick: 2px;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .5);--shadow-md: 0 4px 8px rgba(0, 0, 0, .5);--shadow-lg: 0 8px 24px rgba(0, 0, 0, .6);--shadow-xl: 0 16px 48px rgba(0, 0, 0, .7);--shadow-glow: 0 0 20px rgba(196, 30, 58, .3);--duration-fast: .15s;--duration-normal: .25s;--duration-slow: .4s;--ease-default: cubic-bezier(.4, 0, .2, 1);--ease-in: cubic-bezier(.4, 0, 1, 1);--ease-out: cubic-bezier(0, 0, .2, 1);--ease-bounce: cubic-bezier(.68, -.55, .265, 1.55);--z-base: 0;--z-dropdown: 100;--z-sticky: 200;--z-fixed: 300;--z-modal-backdrop: 400;--z-modal: 500;--z-toast: 600;--z-debug: 9999}:root{--btn-height-sm: 36px;--btn-height-md: 44px;--btn-height-lg: 52px;--card-padding: var(--space-4);--card-radius: var(--radius-lg);--card-border-left: 4px;--input-height: 44px;--input-padding-x: var(--space-3);--input-border-radius: var(--radius-md);--numpad-btn-size: 64px;--numpad-gap: var(--space-2);--scoreboard-rank-width: 48px}*,*:before,*:after{margin:0;padding:0;box-sizing:border-box}html{-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}body{font-family:var(--font-body);font-size:var(--text-base);font-weight:var(--weight-normal);line-height:var(--leading-normal);color:var(--color-text-primary);background-color:var(--color-bg-primary);min-height:100vh;min-height:100dvh}h1,h2,h3,h4,h5,h6{font-family:var(--font-display);font-weight:var(--weight-bold);line-height:var(--leading-tight);letter-spacing:var(--tracking-tight);color:var(--color-text-primary)}h1{font-size:var(--text-2xl);letter-spacing:var(--tracking-wider);text-transform:uppercase}h2{font-size:var(--text-xl)}h3{font-size:var(--text-lg);font-weight:var(--weight-semibold)}h4{font-size:var(--text-base);font-weight:var(--weight-semibold)}p{margin-bottom:var(--space-4)}small{font-size:var(--text-sm)}strong,b{font-weight:var(--weight-bold)}a{color:var(--color-accent-primary);text-decoration:none;transition:color var(--duration-fast) var(--ease-default)}a:hover{color:var(--color-accent-secondary)}a:focus-visible{outline:2px solid var(--color-border-focus);outline-offset:2px}code,pre,.mono{font-family:var(--font-mono)}code{font-size:.9em;padding:var(--space-1) var(--space-2);background:var(--color-bg-tertiary);border-radius:var(--radius-sm)}pre{padding:var(--space-4);background:var(--color-bg-secondary);border-radius:var(--radius-md);overflow-x:auto;white-space:pre-wrap;word-wrap:break-word}button,input,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit;color:inherit}button{cursor:pointer;border:none;background:transparent}button:disabled{cursor:not-allowed;opacity:.5}input,textarea,select{width:100%;background:var(--color-bg-tertiary);border:var(--border-width) solid var(--color-border);border-radius:var(--input-border-radius);padding:var(--space-3) var(--input-padding-x);color:var(--color-text-primary);transition:border-color var(--duration-fast) var(--ease-default),box-shadow var(--duration-fast) var(--ease-default)}input:focus,textarea:focus,select:focus{outline:none;border-color:var(--color-border-focus);box-shadow:0 0 0 3px #c41e3a33}input::placeholder,textarea::placeholder{color:var(--color-text-muted)}input:-webkit-autofill,input:-webkit-autofill:hover,input:-webkit-autofill:focus{-webkit-text-fill-color:var(--color-text-primary);-webkit-box-shadow:0 0 0 1000px var(--color-bg-tertiary) inset;transition:background-color 5000s ease-in-out 0s}ul,ol{list-style:none}img,video,svg{display:block;max-width:100%;height:auto}::selection{background:var(--color-accent-primary);color:var(--color-text-inverse)}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--color-bg-secondary)}::-webkit-scrollbar-thumb{background:var(--color-border);border-radius:var(--radius-full)}::-webkit-scrollbar-thumb:hover{background:var(--color-text-muted)}*{scrollbar-width:thin;scrollbar-color:var(--color-border) var(--color-bg-secondary)}:focus:not(:focus-visible){outline:none}:focus-visible{outline:2px solid var(--color-border-focus);outline-offset:2px}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-primary{color:var(--color-text-primary)}.text-secondary{color:var(--color-text-secondary)}.text-muted{color:var(--color-text-muted)}.text-accent{color:var(--color-accent-primary)}.text-success{color:var(--color-accent-success)}.text-warning{color:var(--color-accent-warning)}.text-error{color:var(--color-accent-error)}.font-normal{font-weight:var(--weight-normal)}.font-medium{font-weight:var(--weight-medium)}.font-semibold{font-weight:var(--weight-semibold)}.font-bold{font-weight:var(--weight-bold)}.text-xs{font-size:var(--text-xs)}.text-sm{font-size:var(--text-sm)}.text-base{font-size:var(--text-base)}.text-lg{font-size:var(--text-lg)}.text-xl{font-size:var(--text-xl)}.text-2xl{font-size:var(--text-2xl)}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.tracking-wide{letter-spacing:var(--tracking-wide)}.tracking-wider{letter-spacing:var(--tracking-wider)}.tracking-widest{letter-spacing:var(--tracking-widest)}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-2);min-height:var(--btn-height-md);padding:var(--space-3) var(--space-5);font-family:var(--font-display);font-size:var(--text-sm);font-weight:var(--weight-semibold);text-transform:uppercase;letter-spacing:var(--tracking-wider);border-radius:var(--radius-md);transition:all var(--duration-fast) var(--ease-default);cursor:pointer;border:none;text-decoration:none;white-space:nowrap}.btn-primary{background:var(--color-accent-primary);color:#fff}.btn-primary:hover{background:#a31830;box-shadow:var(--shadow-glow)}.btn-primary:active{transform:scale(.98)}.btn-secondary{background:var(--color-bg-tertiary);color:var(--color-text-primary);border:var(--border-width) solid var(--color-border)}.btn-secondary:hover{background:var(--color-bg-elevated);border-color:var(--color-text-muted)}.btn-ghost{background:transparent;color:var(--color-text-secondary)}.btn-ghost:hover{background:var(--color-bg-tertiary);color:var(--color-text-primary)}.btn-success{background:var(--color-accent-success);color:#fff}.btn-success:hover{background:#1da34d}.btn-warning{background:var(--color-accent-warning);color:var(--color-text-inverse)}.btn-warning:hover{background:#d97706}.btn-danger{background:var(--color-accent-error);color:#fff}.btn-danger:hover{background:#dc2626}.btn-sm{min-height:var(--btn-height-sm);padding:var(--space-2) var(--space-3);font-size:var(--text-xs)}.btn-lg{min-height:var(--btn-height-lg);padding:var(--space-4) var(--space-6);font-size:var(--text-base)}.btn-block{width:100%}.btn-icon{padding:var(--space-2);min-width:var(--btn-height-md)}.btn:disabled,.btn[disabled]{opacity:.5;cursor:not-allowed;pointer-events:none}.nav-button{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-1);min-height:var(--touch-target-min);min-width:var(--touch-target-min);padding:var(--space-2) var(--space-3);background:var(--color-bg-tertiary);border:var(--border-width) solid var(--color-border);border-radius:var(--radius-md);color:var(--color-text-secondary);font-size:var(--text-sm);transition:all var(--duration-fast) var(--ease-default)}.nav-button:hover{background:var(--color-bg-elevated);color:var(--color-text-primary);border-color:var(--color-accent-primary)}.nav-button .badge{background:var(--color-accent-error);color:#fff;font-size:var(--text-xs);font-weight:var(--weight-bold);padding:2px 6px;border-radius:var(--radius-full);margin-left:var(--space-1)}.card{background:var(--color-bg-secondary);border-radius:var(--card-radius);padding:var(--card-padding);border:var(--border-width) solid var(--color-border-subtle);transition:all var(--duration-fast) var(--ease-default)}.card-elevated{background:var(--color-bg-elevated);box-shadow:var(--shadow-md)}.card-interactive{cursor:pointer}.card-interactive:hover{transform:translate(4px);border-color:var(--color-border)}.card-accent{border-left:var(--card-border-left) solid var(--color-accent-primary);padding-left:calc(var(--card-padding) - var(--card-border-left))}.card-accent.detective{border-left-color:var(--color-mode-detective)}.card-accent.blackmarket{border-left-color:var(--color-mode-blackmarket)}.card-accent.unknown{border-left-color:var(--color-text-muted);opacity:.9}.card-accent.duplicate{border-left-color:var(--duplicate-border);background:var(--duplicate-bg);opacity:var(--duplicate-opacity-card)}.badge{display:inline-flex;align-items:center;justify-content:center;padding:var(--space-1) var(--space-2);font-size:var(--text-xs);font-weight:var(--weight-bold);text-transform:uppercase;letter-spacing:var(--tracking-wide);border-radius:var(--radius-full);white-space:nowrap}.badge-primary{background:var(--color-accent-primary);color:#fff}.badge-success{background:var(--color-accent-success);color:#fff}.badge-warning{background:var(--color-accent-warning);color:var(--color-text-inverse)}.badge-error{background:var(--color-accent-error);color:#fff}.badge-info{background:var(--color-accent-info);color:#fff}.badge-muted{background:var(--color-bg-tertiary);color:var(--color-text-secondary)}.duplicate-badge{background:var(--duplicate-badge-bg);color:#fff;padding:2px 8px;border-radius:var(--radius-sm);font-size:var(--text-xs);font-weight:var(--weight-bold);margin-left:var(--space-2)}.duplicate-badge-small{padding:1px 5px;font-size:9px;margin-left:var(--space-1)}.mode-indicator{display:inline-flex;align-items:center;gap:var(--space-2);padding:var(--space-2) var(--space-4);border-radius:var(--radius-full);font-family:var(--font-display);font-size:var(--text-sm);font-weight:var(--weight-bold);text-transform:uppercase;letter-spacing:var(--tracking-wider);cursor:pointer;transition:all var(--duration-fast) var(--ease-default);-webkit-user-select:none;user-select:none}.mode-indicator:hover{transform:scale(1.05)}.mode-detective{background:var(--color-mode-detective);color:#fff;box-shadow:0 0 12px #22c55e4d}.mode-blackmarket{background:var(--color-mode-blackmarket);color:#fff;box-shadow:0 0 12px #ff6b354d}.connection-status{display:inline-flex;align-items:center;gap:var(--space-2);padding:var(--space-2) var(--space-3);border-radius:var(--radius-full);background:var(--color-bg-tertiary);font-size:var(--text-sm);font-weight:var(--weight-semibold);cursor:pointer;transition:all var(--duration-fast) var(--ease-default);text-decoration:none;color:inherit}.connection-status:hover{background:var(--color-bg-elevated)}.status-dot{width:10px;height:10px;border-radius:var(--radius-full);background:var(--color-text-muted)}.connection-status.connected .status-dot{background:var(--color-status-connected);animation:pulse-glow 2s infinite}.connection-status.connected .status-text{color:var(--color-status-connected)}.connection-status.connecting .status-dot{background:var(--color-status-connecting);animation:pulse-glow 1s infinite}.connection-status.connecting .status-text{color:var(--color-status-connecting)}.connection-status.disconnected .status-dot{background:var(--color-status-disconnected);animation:none}.connection-status.disconnected .status-text{color:var(--color-status-disconnected)}@keyframes pulse-glow{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.7}}.queue-indicator{position:fixed;bottom:var(--space-5);right:var(--space-5);display:none;align-items:center;gap:var(--space-2);padding:var(--space-3) var(--space-4);background:var(--color-accent-warning);color:var(--color-text-inverse);font-size:var(--text-sm);font-weight:var(--weight-bold);border-radius:var(--radius-md);box-shadow:var(--shadow-lg);z-index:var(--z-fixed);transition:all var(--duration-fast) var(--ease-default)}.queue-indicator.visible{display:flex}.queue-indicator:hover{transform:translateY(-2px);box-shadow:var(--shadow-xl)}.queue-indicator .queue-icon{font-size:var(--text-lg)}.queue-indicator .queue-count{font-size:var(--text-base);font-weight:var(--weight-bold)}.toggle-switch{display:flex;justify-content:space-between;align-items:center;padding:var(--space-3) 0}.switch{position:relative;display:inline-block;width:56px;height:32px;flex-shrink:0}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;inset:0;background-color:var(--color-mode-detective);transition:var(--duration-normal) var(--ease-default);border-radius:var(--radius-full)}.slider:before{position:absolute;content:"";height:24px;width:24px;left:4px;bottom:4px;background-color:#fff;transition:var(--duration-normal) var(--ease-default);border-radius:var(--radius-full);box-shadow:var(--shadow-sm)}input:checked+.slider{background-color:var(--color-mode-blackmarket)}input:checked+.slider:before{transform:translate(24px)}input:focus-visible+.slider{outline:2px solid var(--color-border-focus);outline-offset:2px}.status-message{padding:var(--space-4);border-radius:var(--radius-md);text-align:center;font-size:var(--text-sm);margin-bottom:var(--space-5);border:var(--border-width) solid transparent}.status-message.info{background:#3b82f61a;color:var(--color-accent-info);border-color:#3b82f64d}.status-message.success{background:#22c55e1a;color:var(--color-accent-success);border-color:#22c55e4d}.status-message.warning{background:#f59e0b1a;color:var(--color-accent-warning);border-color:#f59e0b4d}.status-message.error{background:#ef44441a;color:var(--color-accent-error);border-color:#ef44444d}.toast-container{position:fixed;top:var(--space-5);right:var(--space-5);z-index:var(--z-toast);width:320px}.toast{padding:var(--space-3) var(--space-5);margin-bottom:var(--space-3);border-radius:var(--radius-md);box-shadow:var(--shadow-lg);color:#fff;font-size:var(--text-sm);font-weight:var(--weight-medium);animation:slide-in-right var(--duration-normal) var(--ease-out)}.toast-info{background:var(--color-accent-info)}.toast-success{background:var(--color-accent-success)}.toast-warning{background:var(--color-accent-warning);color:var(--color-text-inverse)}.toast-error{background:var(--color-accent-error)}@keyframes slide-in-right{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes slide-out-right{to{transform:translate(100%);opacity:0}}.empty-state{text-align:center;padding:var(--space-12) var(--space-5);color:var(--color-text-muted)}.empty-state h3{margin-bottom:var(--space-2);color:var(--color-text-secondary)}.empty-state p{font-size:var(--text-sm)}.progress-bar{height:8px;background:var(--color-bg-tertiary);border-radius:var(--radius-full);overflow:hidden}.progress-fill{height:100%;background:var(--color-accent-secondary);border-radius:var(--radius-full);transition:width var(--duration-normal) var(--ease-default)}.progress-fill.success{background:var(--color-accent-success)}#audio-routing-dropdowns{display:flex;flex-direction:column;gap:var(--space-3);margin-bottom:var(--space-4)}.audio-route-row{display:flex;align-items:center;gap:var(--space-3)}.audio-route-label{flex:0 0 120px;font-size:var(--text-sm);font-weight:var(--weight-medium);color:var(--color-text-secondary)}.audio-route-select{flex:1;padding:var(--space-2) var(--space-3);font-size:var(--text-sm);background:var(--color-bg-secondary);border:var(--border-width) solid var(--color-border);color:var(--color-text-primary);border-radius:var(--radius-md);min-height:var(--btn-height-sm);cursor:pointer;transition:border-color var(--duration-fast) var(--ease-default);appearance:none;-webkit-appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236b7280' d='M2 4l4 4 4-4'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;padding-right:32px}.audio-route-select:hover{border-color:var(--color-text-muted)}.audio-route-select:focus{outline:2px solid var(--color-border-focus);outline-offset:2px;border-color:var(--color-accent-primary)}.alert{padding:var(--space-3) var(--space-4);border-radius:var(--radius-md);font-size:var(--text-sm);margin-bottom:var(--space-4);border:var(--border-width) solid transparent}.alert-warning{background:#f59e0b1a;color:var(--color-accent-warning);border-color:#f59e0b4d}.cue-conflict-banner{display:flex;align-items:center;justify-content:space-between;gap:var(--space-3);padding:var(--space-3) var(--space-4);background:#f59e0b1f;border:var(--border-width) solid rgba(245,158,11,.4);border-left:3px solid var(--color-accent-warning);border-radius:var(--radius-md);margin-bottom:var(--space-3);animation:conflict-slide-in var(--duration-normal) var(--ease-default)}.cue-conflict-banner__info{display:flex;align-items:flex-start;gap:var(--space-3);flex:1}.cue-conflict-banner__icon{font-size:var(--text-lg);flex-shrink:0}.cue-conflict-banner__text{font-size:var(--text-sm);color:var(--color-text-primary)}.cue-conflict-banner__text strong{display:block;color:var(--color-accent-warning);margin-bottom:var(--space-1)}.cue-conflict-banner__text p{margin:0;color:var(--color-text-secondary);line-height:var(--leading-normal)}.cue-conflict-banner__actions{display:flex;gap:var(--space-2);flex-shrink:0}@keyframes conflict-slide-in{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.bt-speakers-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-3)}.bt-speakers-header h4{margin:0;font-size:var(--text-sm);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:var(--tracking-wide)}#bt-device-list{min-height:var(--space-10);margin-bottom:var(--space-4)}#bt-device-list .empty-state{padding:var(--space-4) var(--space-3);font-size:var(--text-sm);color:var(--color-text-muted);font-style:italic;text-align:center}.bt-device-item{display:flex;align-items:center;gap:var(--space-3);padding:var(--space-3) var(--space-4);background:var(--color-bg-secondary);border:var(--border-width) solid var(--color-border-subtle);border-left:3px solid var(--color-border);border-radius:var(--radius-md);margin-bottom:var(--space-2);transition:all var(--duration-fast) var(--ease-default)}.bt-device-name{flex:1;font-size:var(--text-sm);font-weight:var(--weight-medium);color:var(--color-text-primary)}.bt-device-status{font-size:var(--text-xs);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:var(--tracking-wide)}.bt-device-item--connected{border-left-color:var(--color-accent-success);background:#22c55e0d}.bt-device-item--connected .bt-device-status{color:var(--color-accent-success);font-weight:var(--weight-semibold)}.bt-device-item--discovered{border-left-color:var(--color-border);opacity:.85}.bt-device-item--discovered .btn{font-size:var(--text-xs);padding:var(--space-1) var(--space-3)}.scene-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:var(--space-3)}.scene-tile{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-2);min-height:var(--touch-target-comfortable);padding:var(--space-3) var(--space-2);background:var(--color-bg-secondary);border:var(--border-width) solid var(--color-border);border-radius:var(--radius-md);color:var(--color-text-secondary);font-size:var(--text-sm);font-weight:var(--weight-medium);text-align:center;cursor:pointer;transition:all var(--duration-fast) var(--ease-default);-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.scene-tile:hover{background:var(--color-bg-elevated);color:var(--color-text-primary);border-color:var(--color-text-muted)}.scene-tile:active{transform:scale(.97)}.scene-tile--active{border-color:var(--color-accent-primary);background:#c41e3a1a;color:var(--color-text-primary)}.scene-tile__icon{font-size:var(--text-lg)}.scene-tile__label{font-size:var(--text-xs);line-height:var(--leading-tight)}.spinner-sm{display:inline-block;width:16px;height:16px;border:2px solid var(--color-border);border-top-color:var(--color-accent-primary);border-radius:var(--radius-full);animation:spinner-rotate .6s linear infinite;vertical-align:middle}@keyframes spinner-rotate{to{transform:rotate(360deg)}}.section-badge{display:inline-flex;align-items:center;justify-content:center;padding:var(--space-1) var(--space-2);font-family:var(--font-mono);font-size:var(--text-xs);font-weight:var(--weight-semibold);background:var(--color-bg-secondary);color:var(--color-text-secondary);border-radius:var(--radius-full);vertical-align:middle;margin-left:var(--space-2)}.section-badge:empty{display:none}.section-badge--connected{background:#22c55e26;color:var(--color-accent-success)}.section-badge--error{background:#ef444426;color:var(--color-accent-error)}.tile-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:var(--space-3)}.cue-tile{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-2);min-height:var(--touch-target-comfortable);padding:var(--space-3) var(--space-2);background:var(--color-bg-secondary);border:var(--border-width) solid var(--color-border);border-radius:var(--radius-md);color:var(--color-text-secondary);font-size:var(--text-sm);font-weight:var(--weight-medium);text-align:center;cursor:pointer;transition:all var(--duration-fast) var(--ease-default);-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.cue-tile:hover{background:var(--color-bg-elevated);color:var(--color-text-primary);border-color:var(--color-text-muted)}.cue-tile:active{transform:scale(.97)}.cue-tile__icon{font-size:var(--text-lg)}.cue-tile__label{font-size:var(--text-xs);line-height:var(--leading-tight)}.cue-icon--warning:before{content:"âš ï¸"}.cue-icon--dollar:before{content:"ðŸ’°"}.cue-icon--tech:before{content:"ðŸ”§"}.cue-icon--default:before{content:"ðŸŽ¯"}#standing-cues-list{display:flex;flex-direction:column;gap:var(--space-2)}.standing-cue-item{display:flex;align-items:center;justify-content:space-between;gap:var(--space-3);padding:var(--space-3) var(--space-4);background:var(--color-bg-secondary);border:var(--border-width) solid var(--color-border);border-radius:var(--radius-md);transition:all var(--duration-fast) var(--ease-default)}.standing-cue-item--enabled{border-left:4px solid var(--color-accent-success)}.standing-cue-item--disabled{border-left:4px solid var(--color-text-muted);opacity:.7}.standing-cue-item__info{flex:1;display:flex;flex-direction:column;gap:var(--space-1)}.standing-cue-item__label{font-size:var(--text-base);font-weight:var(--weight-semibold);color:var(--color-text-primary)}.standing-cue-item__trigger{font-size:var(--text-xs);font-family:var(--font-mono, monospace);color:var(--color-text-muted)}.standing-cue-item__actions{display:flex;gap:var(--space-2)}.subsection{margin-bottom:var(--space-6)}.subsection h4{font-size:var(--text-base);font-weight:var(--weight-semibold);color:var(--color-text-secondary);margin-bottom:var(--space-3);text-transform:uppercase;letter-spacing:var(--tracking-wide)}.empty-state{padding:var(--space-6) var(--space-4);text-align:center;color:var(--color-text-muted);font-size:var(--text-sm);font-style:italic}body{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:var(--space-4);padding-bottom:var(--space-16)}.container{width:100%;max-width:var(--container-sm);background:var(--color-bg-secondary);border-radius:var(--radius-xl);padding:var(--space-5);box-shadow:var(--shadow-xl);border:var(--border-width) solid var(--color-border-subtle);animation:fade-slide-up var(--duration-normal) var(--ease-out);position:relative}@keyframes fade-slide-up{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.header{display:flex;flex-direction:column;align-items:center;gap:var(--space-4);margin-bottom:var(--space-6)}.header-content{text-align:center;width:100%}.header-nav{display:flex;gap:var(--space-2);align-items:center;flex-wrap:wrap;justify-content:center;width:100%}.device-id{font-family:var(--font-mono);font-size:var(--text-sm);color:var(--color-text-muted);margin-top:var(--space-2)}.screen{display:none}.screen.active{display:block;animation:fade-in var(--duration-fast) var(--ease-out)}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.view-selector{display:flex;justify-content:center;gap:var(--space-2);padding:var(--space-3);background:var(--color-bg-primary);border-bottom:var(--border-width-thick) solid var(--color-border);margin:0 calc(var(--space-5) * -1);margin-bottom:var(--space-5)}.view-tab{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-3) var(--space-5);background:var(--color-bg-tertiary);border:none;border-radius:var(--radius-md) var(--radius-md) 0 0;color:var(--color-text-secondary);font-size:var(--text-sm);font-weight:var(--weight-medium);cursor:pointer;transition:all var(--duration-fast) var(--ease-default)}.view-tab:hover{background:var(--color-bg-elevated);color:var(--color-text-primary)}.view-tab.active{background:var(--color-accent-primary);color:#fff}.view-content{min-height:400px;width:100%}.section{margin-bottom:var(--space-6)}.section-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-4)}.section-title{font-size:var(--text-lg);font-weight:var(--weight-semibold);color:var(--color-text-primary)}.section-divider{padding:var(--space-3) 0;margin:var(--space-6) 0 var(--space-5);border-top:var(--border-width-thick) solid var(--color-border);font-size:var(--text-sm);font-weight:var(--weight-bold);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:var(--tracking-widest)}.grid{display:grid;gap:var(--space-4)}.grid-2{grid-template-columns:repeat(2,1fr)}.grid-3{grid-template-columns:repeat(3,1fr)}.grid-auto{grid-template-columns:repeat(auto-fit,minmax(120px,1fr))}.flex{display:flex}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.gap-1{gap:var(--space-1)}.gap-2{gap:var(--space-2)}.gap-3{gap:var(--space-3)}.gap-4{gap:var(--space-4)}.gap-5{gap:var(--space-5)}.gap-6{gap:var(--space-6)}.m-0{margin:0}.mt-2{margin-top:var(--space-2)}.mt-4{margin-top:var(--space-4)}.mt-6{margin-top:var(--space-6)}.mb-2{margin-bottom:var(--space-2)}.mb-4{margin-bottom:var(--space-4)}.mb-6{margin-bottom:var(--space-6)}.p-0{padding:0}.p-2{padding:var(--space-2)}.p-3{padding:var(--space-3)}.p-4{padding:var(--space-4)}.p-5{padding:var(--space-5)}.scroll-container{max-height:500px;overflow-y:auto;margin:var(--space-5) 0;padding-right:var(--space-2)}.scroll-container::-webkit-scrollbar{width:6px}.button-group{display:flex;gap:var(--space-3);margin-top:var(--space-5)}.button-group>*{flex:1}.info-row{display:flex;justify-content:space-around;align-items:center;padding:var(--space-3);background:var(--color-bg-tertiary);border-radius:var(--radius-md);margin:var(--space-4) 0}.info-row span{font-size:var(--text-sm);color:var(--color-text-secondary)}.info-row strong{color:var(--color-text-primary)}.status-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:var(--space-5);margin:var(--space-5) 0}.status-item{display:flex;align-items:center;gap:var(--space-3);font-size:var(--text-sm)}.status-item .status-dot{flex-shrink:0}.status-item .status-dot.connected{background:var(--color-status-connected)}.status-item .status-dot.disconnected{background:var(--color-status-disconnected)}.filter-bar{display:flex;gap:var(--space-3);margin-bottom:var(--space-5);flex-wrap:wrap}.filter-bar input,.filter-bar select{flex:1;min-width:120px}.device-list{max-height:200px;overflow-y:auto;border:var(--border-width) solid var(--color-border);border-radius:var(--radius-md);padding:var(--space-3);margin-top:var(--space-3)}.device-item{display:flex;justify-content:space-between;align-items:center;padding:var(--space-2) var(--space-3);border-bottom:var(--border-width) solid var(--color-border-subtle)}.device-item:last-child{border-bottom:none}.device-type{font-size:var(--text-xs);color:var(--color-text-muted);font-family:var(--font-mono)}.transaction-log{max-height:300px;overflow-y:auto;border:var(--border-width) solid var(--color-border);border-radius:var(--radius-md);padding:var(--space-3);margin:var(--space-3) 0;font-family:var(--font-mono);font-size:var(--text-sm)}.team-display{font-family:var(--font-display);font-size:var(--text-4xl);font-weight:var(--weight-bold);text-align:center;padding:var(--space-5);background:var(--color-bg-tertiary);border-radius:var(--radius-lg);margin-bottom:var(--space-5);min-height:80px;display:flex;align-items:center;justify-content:center;color:var(--color-accent-primary);letter-spacing:var(--tracking-wider);border:var(--border-width-thick) solid var(--color-border)}.screen-title{font-family:var(--font-display);font-size:var(--text-xl);font-weight:var(--weight-bold);text-align:center;margin-bottom:var(--space-6);color:var(--color-text-primary);letter-spacing:var(--tracking-wide)}.team-name-input{width:100%;padding:var(--space-4);font-family:var(--font-display);font-size:var(--text-lg);background:var(--color-bg-tertiary);border:var(--border-width) solid var(--color-border);border-radius:var(--radius-md);color:var(--color-text-primary)}.team-name-input:focus{border-color:var(--color-accent-primary);outline:none}.team-name-input::placeholder{color:var(--color-text-tertiary)}.start-scan-btn{width:100%;margin-top:var(--space-6);padding:var(--space-5);font-size:var(--text-xl)}.scan-area{text-align:center;padding:var(--space-10);background:linear-gradient(135deg,var(--color-accent-primary) 0%,#7f1d1d 100%);border-radius:var(--radius-lg);color:#fff;margin:var(--space-5) 0;position:relative;overflow:hidden}.scan-area:before{content:"";position:absolute;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.1) 2px,rgba(0,0,0,.1) 4px);pointer-events:none}.scan-icon{font-size:64px;margin-bottom:var(--space-5);animation:pulse-scale 2s infinite;position:relative;z-index:1}@keyframes pulse-scale{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}}.scan-area h2{font-size:var(--text-xl);margin-bottom:var(--space-2);position:relative;z-index:1}.scan-area p{font-size:var(--text-sm);opacity:.9;position:relative;z-index:1}.transaction-result{background:var(--color-bg-tertiary);border-radius:var(--radius-lg);padding:var(--space-5);margin:var(--space-5) 0;border:var(--border-width) solid var(--color-border)}.transaction-result h3{color:var(--color-text-primary);margin-bottom:var(--space-4);font-size:var(--text-lg)}.transaction-detail{display:flex;justify-content:space-between;align-items:center;padding:var(--space-3) 0;border-bottom:var(--border-width) solid var(--color-border-subtle)}.transaction-detail:last-child{border-bottom:none}.transaction-detail label{color:var(--color-text-secondary);font-size:var(--text-sm)}.transaction-detail .value{font-weight:var(--weight-bold);color:var(--color-text-primary);font-family:var(--font-mono)}.summary-text{font-style:italic;color:var(--color-text-muted);max-width:70%;text-align:right;font-size:var(--text-sm)}.history-container{max-height:500px;overflow-y:auto;margin:var(--space-5) 0}.transaction-card{background:var(--color-bg-tertiary);border-radius:var(--radius-lg);padding:var(--space-4);margin-bottom:var(--space-3);border-left:var(--card-border-left) solid var(--color-accent-primary);transition:all var(--duration-fast) var(--ease-default)}.transaction-card:hover{background:var(--color-bg-elevated);transform:translate(4px)}.transaction-card.detective{border-left-color:var(--color-mode-detective)}.transaction-card.blackmarket{border-left-color:var(--color-mode-blackmarket)}.transaction-card.unknown{border-left-color:var(--color-text-muted);opacity:.9}.transaction-card.duplicate{opacity:var(--duplicate-opacity);background:var(--duplicate-bg);border-left-color:var(--duplicate-border)}.transaction-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-3)}.transaction-header strong{font-family:var(--font-mono);color:var(--color-text-primary)}.transaction-time{font-size:var(--text-xs);color:var(--color-text-muted);font-family:var(--font-mono)}.transaction-details{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-2);font-size:var(--text-sm)}.transaction-details .detail{color:var(--color-text-muted)}.transaction-details .detail span{color:var(--color-text-primary);font-weight:var(--weight-medium)}.summary-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:var(--space-4);padding:var(--space-4);background:var(--color-bg-tertiary);border-radius:var(--radius-lg);margin-bottom:var(--space-5)}.summary-stat{text-align:center}.summary-stat .value{font-family:var(--font-display);font-size:var(--text-2xl);font-weight:var(--weight-bold);color:var(--color-accent-primary)}.summary-stat .label{font-size:var(--text-xs);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:var(--tracking-wider);margin-top:var(--space-1)}.stats{display:flex;justify-content:space-around;margin:var(--space-5) 0}.stat-item{text-align:center}.stat-value{font-family:var(--font-display);font-size:var(--text-2xl);font-weight:var(--weight-bold);color:var(--color-accent-primary)}.stat-label{font-size:var(--text-xs);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:var(--tracking-wider)}.scoreboard-container{max-height:500px;overflow-y:auto;margin:var(--space-5) 0}.scoreboard-entry{background:var(--color-bg-tertiary);border-radius:var(--radius-lg);padding:var(--space-4);margin-bottom:var(--space-3);display:flex;justify-content:space-between;align-items:center;transition:all var(--duration-fast) var(--ease-default);cursor:pointer;border:var(--border-width) solid var(--color-border-subtle)}.scoreboard-entry:hover{background:var(--color-bg-elevated);transform:translate(4px)}.scoreboard-entry.rank-1{background:linear-gradient(135deg,#c9a227,#9a7b0a);color:#fff;border:none;box-shadow:0 0 20px #c9a2274d}.scoreboard-entry.rank-2{background:linear-gradient(135deg,#a8a8a8,#757575);color:#fff;border:none}.scoreboard-entry.rank-3{background:linear-gradient(135deg,#cd7f32,#8b5a2b);color:#fff;border:none}.scoreboard-rank{font-family:var(--font-display);font-size:var(--text-2xl);font-weight:var(--weight-bold);min-width:var(--scoreboard-rank-width)}.scoreboard-team{flex:1;margin:0 var(--space-4);font-size:var(--text-lg);font-weight:var(--weight-semibold)}.scoreboard-score{font-family:var(--font-mono);font-size:var(--text-xl);font-weight:var(--weight-bold);color:var(--color-accent-primary)}.scoreboard-entry.rank-1 .scoreboard-score,.scoreboard-entry.rank-2 .scoreboard-score,.scoreboard-entry.rank-3 .scoreboard-score{color:inherit}.scoreboard-tokens{font-size:var(--text-xs);color:var(--color-text-muted);margin-left:var(--space-3)}.scoreboard-entry.rank-1 .scoreboard-tokens,.scoreboard-entry.rank-2 .scoreboard-tokens,.scoreboard-entry.rank-3 .scoreboard-tokens{color:#fffc}.token-detail-card{background:var(--color-bg-tertiary);border-radius:var(--radius-lg);padding:var(--space-4);margin-bottom:var(--space-3);border-left:var(--card-border-left) solid var(--color-mode-blackmarket);transition:all var(--duration-fast) var(--ease-default)}.token-detail-card:hover{background:var(--color-bg-elevated);transform:translate(4px)}.token-detail-card.unknown{border-left-color:var(--color-text-muted);opacity:.8}.token-detail-card.bonus-applied{border-left-color:var(--color-accent-success);background:#22c55e1a}.token-detail-card.duplicate{border-left-color:var(--duplicate-border);background:var(--duplicate-bg);opacity:var(--duplicate-opacity-detail)}.token-detail-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-3)}.token-detail-header strong{font-family:var(--font-mono)}.token-detail-value{font-family:var(--font-display);font-size:var(--text-xl);font-weight:var(--weight-bold);color:var(--color-mode-blackmarket)}.token-detail-card.unknown .token-detail-value{color:var(--color-text-muted)}.token-detail-card.bonus-applied .token-detail-value{color:var(--color-accent-success)}.token-detail-card.duplicate .token-detail-value{color:var(--duplicate-badge-bg)}.token-detail-grid{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-2);font-size:var(--text-sm)}.token-detail-item{display:flex;flex-direction:column}.token-detail-label{font-size:var(--text-xs);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:var(--tracking-wide);margin-bottom:2px}.token-detail-info{color:var(--color-text-primary);font-weight:var(--weight-medium)}.token-calculation{grid-column:1 / -1;margin-top:var(--space-2);padding-top:var(--space-2);border-top:var(--border-width) solid var(--color-border-subtle);font-size:var(--text-sm);color:var(--color-text-muted);text-align:center;font-family:var(--font-mono)}.token-calculation strong{color:var(--color-text-primary)}.group-section{margin-bottom:var(--space-8)}.group-header{padding:var(--space-4);border-radius:var(--radius-lg);margin-bottom:var(--space-3)}.group-header.completed{background:linear-gradient(135deg,var(--color-accent-success) 0%,#16a34a 100%);color:#fff;box-shadow:0 0 16px #22c55e4d}.group-header.in-progress{background:#f59e0b1a;border:var(--border-width-thick) solid var(--color-accent-warning);color:var(--color-accent-warning)}.group-title{display:flex;align-items:center;gap:var(--space-3);margin-bottom:var(--space-1);flex-wrap:wrap}.completion-badge,.progress-badge{font-size:var(--text-xl)}.group-name{font-size:var(--text-lg);font-weight:var(--weight-bold);flex:1}.completion-text,.progress-text{font-size:var(--text-sm);font-weight:var(--weight-normal)}.completion-text{text-transform:uppercase;letter-spacing:var(--tracking-wide);opacity:.9}.bonus-amount{font-family:var(--font-mono);font-size:var(--text-base);font-weight:var(--weight-bold);margin-top:var(--space-1)}.bonus-breakdown{background:var(--color-bg-tertiary);padding:var(--space-4);border-radius:var(--radius-md);margin:var(--space-3) 0}.bonus-breakdown h4{margin:0 0 var(--space-3) 0;font-size:var(--text-sm);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:var(--tracking-wide)}.bonus-item{display:flex;justify-content:space-between;padding:var(--space-2) 0;color:var(--color-accent-success);font-weight:var(--weight-medium)}.bonus-item .bonus-group{flex:1}.bonus-item .bonus-value{font-family:var(--font-mono);font-weight:var(--weight-bold)}.settings-panel{background:var(--color-bg-tertiary);border-radius:var(--radius-lg);padding:var(--space-5);margin-bottom:var(--space-5);border:var(--border-width) solid var(--color-border)}.settings-panel h3{margin-bottom:var(--space-4);font-size:var(--text-lg)}.settings-group{margin-bottom:var(--space-4)}.settings-group label{display:block;margin-bottom:var(--space-2);font-size:var(--text-sm);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:var(--tracking-wide)}.team-input-container,.team-list-container{margin:var(--space-4) 0}.team-list-label{font-size:var(--text-sm);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.05em;margin-bottom:var(--space-2);display:block}.team-list{max-height:200px;overflow-y:auto;background:var(--color-bg-tertiary);border:1px solid var(--color-border);border-radius:var(--radius-md)}.team-list:empty:after{content:"No teams yet";display:block;padding:var(--space-3);color:var(--color-text-tertiary);text-align:center;font-style:italic}.team-list-item{padding:var(--space-3) var(--space-4);cursor:pointer;border-bottom:1px solid var(--color-border);transition:background .15s}.team-list-item:last-child{border-bottom:none}.team-list-item:hover{background:var(--color-bg-secondary)}.quick-dismiss-hint{text-align:center;color:var(--color-text-muted);margin:var(--space-4) 0;font-size:var(--text-sm);animation:pulse-fade 2s ease-in-out infinite}@keyframes pulse-fade{0%,to{opacity:.6}50%{opacity:1}}body.standalone-mode [data-requires=networked]{display:none!important}.admin-section{background:var(--color-bg-tertiary);border-radius:var(--radius-lg);padding:var(--space-5);margin-bottom:var(--space-5);border:var(--border-width) solid var(--color-border)}.admin-section h3{margin-top:0;margin-bottom:var(--space-4);padding-bottom:var(--space-3);border-bottom:var(--border-width-thick) solid var(--color-accent-primary);font-size:var(--text-lg);color:var(--color-text-primary);text-transform:uppercase;letter-spacing:var(--tracking-wider)}.session-controls{display:flex;flex-wrap:wrap;gap:var(--space-3);margin-top:var(--space-4)}.session-controls .btn{flex:1;min-width:120px}.video-controls{display:flex;flex-wrap:wrap;gap:var(--space-3);margin-top:var(--space-4)}.video-controls .btn{flex:1;min-width:80px}.video-queue{margin-top:var(--space-4);padding:var(--space-4);background:var(--color-bg-secondary);border-radius:var(--radius-md);border:var(--border-width) solid var(--color-border-subtle)}.video-queue h4{margin-bottom:var(--space-3);font-size:var(--text-sm);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:var(--tracking-wide)}.video-queue-item{display:flex;align-items:center;justify-content:space-between;padding:var(--space-2) var(--space-3);background:var(--color-bg-tertiary);border-radius:var(--radius-sm);margin-bottom:var(--space-2);font-size:var(--text-sm)}.video-queue-item .video-name{font-family:var(--font-mono);color:var(--color-text-primary)}.video-queue-item .video-actions{display:flex;gap:var(--space-2)}.debug-content{background:var(--color-bg-primary);color:var(--color-accent-success);font-family:var(--font-mono);font-size:var(--text-xs);padding:var(--space-5);min-height:400px;max-height:600px;overflow-y:auto;white-space:pre-wrap;word-wrap:break-word;border-radius:var(--radius-md);border:var(--border-width) solid var(--color-border)}.debug-panel{position:fixed;bottom:var(--space-3);left:var(--space-3);right:var(--space-3);max-height:200px;background:#0a0a0cf2;color:var(--color-accent-success);font-family:var(--font-mono);font-size:11px;padding:var(--space-3);border-radius:var(--radius-md);border:var(--border-width) solid var(--color-border);overflow-y:auto;z-index:var(--z-debug);display:none;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.debug-panel.active{display:block}.debug-panel pre{margin:0;white-space:pre-wrap;word-wrap:break-word}.debug-toggle{position:fixed;bottom:var(--space-3);right:var(--space-3);width:48px;height:48px;background:var(--color-accent-primary);color:#fff;border:none;border-radius:var(--radius-full);font-size:var(--text-xl);cursor:pointer;z-index:var(--z-debug);box-shadow:var(--shadow-lg);transition:all var(--duration-fast) var(--ease-default)}.debug-toggle:hover{background:#a31830;transform:scale(1.05)}.modal{display:none;position:fixed;z-index:var(--z-modal);inset:0;background-color:var(--color-overlay);align-items:center;justify-content:center;padding:var(--space-4);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal.active,.modal[style*="display: flex"]{display:flex}.modal-content{background:var(--color-bg-secondary);border-radius:var(--radius-xl);padding:var(--space-6);max-width:var(--container-sm);width:100%;max-height:80vh;overflow-y:auto;box-shadow:var(--shadow-xl);border:var(--border-width) solid var(--color-border);animation:modal-in var(--duration-normal) var(--ease-out)}@keyframes modal-in{0%{opacity:0;transform:scale(.95) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}.modal-content h2{margin-top:0;margin-bottom:var(--space-5);color:var(--color-accent-primary);text-align:center;font-size:var(--text-xl)}#discoverySection{text-align:center;margin-bottom:var(--space-5)}#discoveryStatus{margin:var(--space-3) 0;font-size:var(--text-sm);color:var(--color-text-muted)}#discoveredServers{margin-top:var(--space-4)}.server-item{display:flex;justify-content:space-between;align-items:center;padding:var(--space-3);margin:var(--space-2) 0;background:var(--color-bg-tertiary);border-radius:var(--radius-md);border:var(--border-width) solid var(--color-border)}.server-item span{color:var(--color-text-primary);font-family:var(--font-mono);font-size:var(--text-sm)}.server-item button{background:var(--color-accent-success);color:#fff;padding:var(--space-2) var(--space-4);border:none;border-radius:var(--radius-sm);font-size:var(--text-sm);font-weight:var(--weight-semibold);cursor:pointer;transition:background var(--duration-fast) var(--ease-default)}.server-item button:hover{background:#1da34d}.divider{text-align:center;margin:var(--space-5) 0;color:var(--color-text-muted);font-size:var(--text-sm);display:flex;align-items:center;gap:var(--space-3)}.divider:before,.divider:after{content:"";flex:1;height:1px;background:var(--color-border)}.form-group{margin-bottom:var(--space-4)}.form-group label{display:block;margin-bottom:var(--space-2);color:var(--color-text-secondary);font-size:var(--text-sm);text-transform:uppercase;letter-spacing:var(--tracking-wide)}.form-group input{width:100%;padding:var(--space-3);background:var(--color-bg-tertiary);border:var(--border-width) solid var(--color-border);border-radius:var(--radius-md);color:var(--color-text-primary);font-size:var(--text-base)}.form-group input:focus{outline:none;border-color:var(--color-accent-primary);box-shadow:0 0 0 3px #c41e3a33}.form-group input::placeholder{color:var(--color-text-muted)}.station-display{padding:var(--space-3);background:var(--color-bg-tertiary);border:var(--border-width) solid var(--color-border);border-radius:var(--radius-md);color:var(--color-accent-success);font-size:var(--text-sm);font-weight:var(--weight-semibold);font-family:var(--font-mono);text-align:center;min-height:42px;display:flex;align-items:center;justify-content:center}.station-display .loading-text{color:var(--color-text-muted);font-style:italic;font-weight:var(--weight-normal)}#connectionStatusMsg{text-align:center;margin:var(--space-4) 0;padding:var(--space-3);border-radius:var(--radius-md);font-size:var(--text-sm)}.primary-btn{width:100%;padding:var(--space-3) var(--space-5);background:var(--color-accent-success);color:#fff;font-size:var(--text-base);font-weight:var(--weight-semibold);border:none;border-radius:var(--radius-md);cursor:pointer;margin-bottom:var(--space-3);transition:background var(--duration-fast) var(--ease-default)}.primary-btn:hover{background:#1da34d}.secondary-btn{padding:var(--space-3) var(--space-5);background:var(--color-bg-tertiary);color:var(--color-text-secondary);font-size:var(--text-base);font-weight:var(--weight-medium);border:var(--border-width) solid var(--color-border);border-radius:var(--radius-md);cursor:pointer;transition:all var(--duration-fast) var(--ease-default)}.secondary-btn:hover{background:var(--color-bg-elevated);color:var(--color-text-primary)}.error-container{position:fixed;top:var(--space-5);right:var(--space-5);z-index:var(--z-toast);width:320px}.error-message{background:var(--color-accent-error);color:#fff;padding:var(--space-4);margin-bottom:var(--space-3);border-radius:var(--radius-md);box-shadow:var(--shadow-lg);animation:slide-in-right var(--duration-normal) var(--ease-out)}.session-status{padding:var(--space-5);border-radius:var(--radius-lg);background:var(--color-bg-tertiary);border:var(--border-width) solid var(--color-border)}.session-status--empty{text-align:center;padding:var(--space-6)}.session-status--empty .session-status__message{font-size:var(--text-lg);color:var(--color-text-secondary);margin-bottom:var(--space-2)}.session-status--empty .session-status__hint{font-size:var(--text-sm);color:var(--color-text-muted);margin-bottom:var(--space-5)}.session-status--active{border-left:4px solid var(--color-accent-success)}.session-status--paused{border-left:4px solid var(--color-accent-warning);background:#ffaa330d}.session-status--ended{border-left:4px solid var(--color-accent-error);background:#ef44440d}.session-status__header{display:flex;align-items:center;gap:var(--space-2);margin:0 0 var(--space-4) 0;font-size:var(--text-lg);font-weight:var(--weight-semibold);color:var(--color-text-primary)}.session-status__icon{font-size:var(--text-xl)}.session-status__badge{font-size:var(--text-xs);font-weight:var(--weight-semibold);padding:var(--space-1) var(--space-2);border-radius:var(--radius-sm);text-transform:uppercase;letter-spacing:.05em;margin-left:auto}.session-status__badge--active{background:#22c55e26;color:var(--color-accent-success)}.session-status__badge--paused{background:#ffaa3326;color:var(--color-accent-warning)}.session-status__details{margin-bottom:var(--space-4)}.session-status__name{font-size:var(--text-base);font-weight:var(--weight-semibold);color:var(--color-text-primary);margin-bottom:var(--space-2)}.session-status__meta{font-size:var(--text-sm);color:var(--color-text-secondary);margin-bottom:var(--space-1)}.session-status__actions{display:flex;flex-wrap:wrap;gap:var(--space-3);margin-top:var(--space-4)}.session-status__actions .btn{flex:1;min-width:120px}.session-status__tip{margin-top:var(--space-4);padding-top:var(--space-3);border-top:var(--border-width) solid var(--color-border);font-size:var(--text-sm);color:var(--color-text-muted);font-style:italic}.status-active{color:var(--color-accent-success);font-weight:var(--weight-semibold)}.session-overtime-warning{margin-bottom:var(--space-4);padding:var(--space-3);background:#ffaa331a;border:var(--border-width) solid var(--color-accent-warning);border-radius:var(--radius-md)}.session-overtime-warning__content{display:flex;align-items:flex-start;gap:var(--space-3)}.session-overtime-warning__icon{font-size:var(--text-xl);flex-shrink:0}.session-overtime-warning__text{flex:1}.session-overtime-warning__text strong{display:block;color:var(--color-accent-warning);font-size:var(--text-sm);margin-bottom:var(--space-1)}.session-overtime-warning__text p{font-size:var(--text-xs);color:var(--color-text-secondary);margin:0}.queue-item{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-2) var(--space-3);background:var(--color-bg-tertiary);border-radius:var(--radius-sm);margin-bottom:var(--space-2);font-size:var(--text-sm)}.queue-item__index{color:var(--color-text-muted);font-weight:var(--weight-medium);min-width:1.5em}.queue-item__name{flex:1;color:var(--color-text-primary);font-family:var(--font-mono)}.queue-item__duration{color:var(--color-text-secondary);font-size:var(--text-xs)}.status-dot{display:inline-block;width:10px;height:10px;border-radius:var(--radius-full);background:var(--color-text-muted)}.status-dot--connected{background:var(--color-accent-success);box-shadow:0 0 6px var(--color-accent-success)}.status-dot--disconnected{background:var(--color-accent-error)}.display-status{display:flex;justify-content:space-between;align-items:center;padding:var(--space-3) var(--space-4);background:var(--color-bg-secondary);border-radius:var(--radius-md);margin-bottom:var(--space-3)}.display-status__now-showing{display:flex;align-items:center;gap:var(--space-2)}.display-status__label{color:var(--color-text-secondary);font-size:var(--text-sm)}.display-status__value{color:var(--color-text-primary);font-weight:var(--weight-semibold);font-family:var(--font-mono)}.display-status__icon{font-size:var(--text-lg)}.display-status__queue{color:var(--color-text-secondary);font-size:var(--text-sm)}.display-status__returns-to{font-size:var(--text-sm);color:var(--color-text-muted);margin-bottom:var(--space-3);padding-left:var(--space-4);font-style:italic}.idle-mode-toggle{display:flex;align-items:center;gap:var(--space-3);margin-bottom:var(--space-4);padding:var(--space-3);background:var(--color-bg-tertiary);border-radius:var(--radius-md)}.idle-mode-toggle__label{color:var(--color-text-secondary);font-size:var(--text-sm);white-space:nowrap}.idle-mode-toggle__buttons{display:flex;gap:var(--space-2)}.btn-toggle{padding:var(--space-2) var(--space-3);font-size:var(--text-sm);background:var(--color-bg-secondary);border:var(--border-width) solid var(--color-border);color:var(--color-text-secondary);border-radius:var(--radius-md);cursor:pointer;transition:all var(--duration-fast) var(--ease-default)}.btn-toggle:hover{background:var(--color-bg-elevated);color:var(--color-text-primary)}.btn-toggle.active{background:var(--color-accent-primary);border-color:var(--color-accent-primary);color:#fff}.btn-toggle:disabled{opacity:.5;cursor:not-allowed}.activity-summary{display:flex;gap:var(--space-4);padding:var(--space-3);background:var(--color-bg-tertiary);border-radius:var(--radius-md);margin-bottom:var(--space-4);flex-wrap:wrap}.activity-summary .stat{font-weight:var(--weight-semibold);font-size:var(--text-sm)}.activity-summary .stat.available{color:var(--color-accent-success)}.activity-summary .stat.claimed{color:var(--color-text-secondary)}.activity-summary .stat.warning{color:#f59e0b}.activity-filters{display:flex;gap:var(--space-3);margin-bottom:var(--space-4);flex-wrap:wrap}.activity-filters .search-input{flex:1;min-width:150px;padding:var(--space-2) var(--space-3);border:var(--border-width) solid var(--color-border);border-radius:var(--radius-md);background:var(--color-bg-secondary);color:var(--color-text-primary)}.activity-filters .filter-select{padding:var(--space-2) var(--space-3);border:var(--border-width) solid var(--color-border);border-radius:var(--radius-md);background:var(--color-bg-secondary);color:var(--color-text-primary)}.activity-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:var(--space-3);max-height:500px;overflow-y:auto}.activity-grid .token-card{background:var(--color-bg-secondary);border:var(--border-width) solid var(--color-border);border-radius:var(--radius-lg);padding:var(--space-4);border-left:4px solid var(--color-accent-success)}.activity-grid .token-card.claimed{border-left-color:var(--color-text-muted)}.token-card__header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-2)}.token-card .token-id{font-weight:var(--weight-bold);font-family:var(--font-mono);color:var(--color-text-primary);font-size:var(--text-sm)}.token-card .token-type{font-size:var(--text-xs);padding:var(--space-1) var(--space-2);border-radius:var(--radius-sm)}.token-card .token-type.type-personal{background:#dbeafe;color:#1e40af}.token-card .token-type.type-business{background:#dcfce7;color:#166534}.token-card .token-type.type-technical{background:#fef3c7;color:#92400e}.token-card .token-type.type-unknown{background:var(--color-bg-tertiary);color:var(--color-text-secondary)}.token-card__rating{color:#f59e0b;margin-bottom:var(--space-2);font-size:var(--text-sm)}.token-card__status{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-2) var(--space-3);border-radius:var(--radius-sm);margin-bottom:var(--space-3);font-weight:var(--weight-semibold);font-size:var(--text-sm)}.token-card__status.status-available{background:#22c55e26;color:var(--color-accent-success)}.token-card__status.status-claimed{background:var(--color-bg-tertiary);color:var(--color-text-secondary)}.token-card__status.blackmarket{border-left:3px solid #f59e0b}.token-card__status.detective{border-left:3px solid #3b82f6}.token-card__status.status-available{border-left:3px solid var(--color-accent-success)}.token-card__status .points{margin-left:auto;color:#f59e0b;font-weight:var(--weight-bold)}.token-card__status .points.potential{opacity:.85;font-weight:var(--weight-medium)}.token-card__summary{padding:var(--space-2) var(--space-3);border-top:1px solid var(--color-border);margin-bottom:var(--space-2)}.token-card__summary .summary-toggle{font-size:var(--text-xs);padding:var(--space-1) var(--space-2);cursor:pointer;background:var(--color-bg-tertiary);border:1px solid var(--color-border);border-radius:var(--radius-sm);color:var(--color-text-secondary);font-weight:var(--weight-medium)}.token-card__summary .summary-toggle:hover{background:var(--color-bg-secondary);color:var(--color-text-primary)}.token-card__summary .summary-content{display:none;margin-top:var(--space-2);font-style:italic;color:var(--color-text-muted);font-size:var(--text-sm);line-height:1.4}.token-card__summary.expanded .summary-content{display:block}.token-card__timeline{display:flex;flex-direction:column;gap:var(--space-2)}.token-card__timeline .event{display:flex;flex-wrap:wrap;align-items:center;gap:var(--space-2);font-size:var(--text-sm);padding:var(--space-2);background:var(--color-bg-tertiary);border-radius:var(--radius-sm)}.token-card__timeline .event.discovery{border-left:2px solid var(--color-accent-success)}.token-card__timeline .event.scan{border-left:2px solid var(--color-text-muted)}.token-card__timeline .event.claim.blackmarket{border-left:2px solid #f59e0b}.token-card__timeline .event.claim.detective{border-left:2px solid #3b82f6}.token-card__timeline .event.warning{border-left:2px solid #ef4444;background:#ef44441a}.token-card__timeline .icon{font-size:var(--text-base);flex-shrink:0}.token-card__timeline .label{font-weight:var(--weight-medium)}.token-card__timeline .device{color:var(--color-text-muted);font-family:var(--font-mono);font-size:var(--text-xs)}.token-card__timeline .time{color:var(--color-text-muted);margin-left:auto}.token-card__timeline .team{color:var(--color-accent-primary);font-weight:var(--weight-semibold)}.token-card__timeline .points{color:#f59e0b;font-weight:var(--weight-bold)}.token-card__timeline .group-progress{width:100%;font-size:var(--text-xs);color:var(--color-text-muted);padding-top:var(--space-1);border-top:1px solid var(--color-border);margin-top:var(--space-1)}.token-card__timeline .exposed-summary{width:100%;font-size:var(--text-xs);padding-top:var(--space-2);border-top:1px solid var(--color-border);margin-top:var(--space-1)}.token-card__timeline .exposed-summary .summary-label{color:#3b82f6;font-weight:var(--weight-semibold);display:block;margin-bottom:var(--space-1)}.token-card__timeline .exposed-summary .summary-text{color:var(--color-text-secondary);font-style:italic;line-height:1.4;display:block}.token-card__timeline .status-badge{background:var(--color-accent-success);color:#fff;padding:var(--space-1) var(--space-2);border-radius:var(--radius-sm);font-size:var(--text-xs);font-weight:var(--weight-bold)}.token-card__timeline .event.status-available{justify-content:center;background:transparent;border:1px dashed var(--color-accent-success)}.token-card__timeline[data-expanded=false] .event.collapsible{display:none}.token-card__timeline[data-expanded=true] .event.collapsible{display:flex}.token-card .timeline-toggle{width:100%;margin-top:var(--space-2);padding:var(--space-1) var(--space-2);background:transparent;border:1px dashed var(--color-border);border-radius:var(--radius-sm);color:var(--color-text-muted);font-size:var(--text-xs);cursor:pointer;transition:background .2s}.token-card .timeline-toggle:hover{background:var(--color-bg-tertiary)}.token-card__timeline[data-expanded=false]~.timeline-toggle .collapse-text{display:none}.token-card__timeline[data-expanded=true]~.timeline-toggle .expand-text{display:none}@media(max-width:479px){body{padding:var(--space-2)}.container{padding:var(--space-4);border-radius:var(--radius-lg)}h1{font-size:var(--text-xl)}.numpad button{height:56px;font-size:var(--text-xl)}.team-display{font-size:var(--text-3xl);padding:var(--space-4);min-height:64px}.connection-status .status-text{display:none}.connection-status{padding:var(--space-2)}.queue-indicator{bottom:var(--space-3);right:var(--space-3);padding:var(--space-2) var(--space-3);font-size:var(--text-xs)}.header-nav{width:100%}.button-group{flex-direction:column}.scan-area{padding:var(--space-8)}.scan-icon{font-size:48px}.transaction-details,.token-detail-grid{grid-template-columns:1fr}.scoreboard-rank{font-size:var(--text-xl);min-width:36px}.scoreboard-team{font-size:var(--text-base)}.scoreboard-score{font-size:var(--text-lg)}.scoreboard-tokens{display:none}.modal-content{padding:var(--space-4);max-height:90vh}.view-tab{padding:var(--space-2) var(--space-3);font-size:var(--text-xs)}.view-tab .tab-text{display:none}.summary-stats{grid-template-columns:repeat(2,1fr)}.status-grid{grid-template-columns:1fr}}@media(min-width:480px){.container{max-width:var(--container-sm)}.connection-status .status-text{display:inline}.numpad button{height:var(--numpad-btn-size)}.scan-area{padding:var(--space-10)}}@media(min-width:640px){body{padding:var(--space-5)}.container{max-width:var(--container-md);padding:var(--space-6)}h1{font-size:var(--text-2xl)}.summary-stats{grid-template-columns:repeat(4,1fr)}.status-grid{grid-template-columns:repeat(3,1fr)}.session-controls,.video-controls{flex-wrap:nowrap}.scoreboard-tokens{display:inline}}@media(min-width:768px){body{padding:var(--space-6)}.container{max-width:var(--container-lg)}.header{flex-direction:row;justify-content:space-between;align-items:flex-start}.header-nav{justify-content:flex-end;width:auto;order:2;flex-shrink:0}.header-content{order:1;text-align:left;flex-grow:1}.view-tab{padding:var(--space-3) var(--space-5);font-size:var(--text-sm)}.view-tab .tab-text{display:inline}.admin-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-5)}.modal-content{padding:var(--space-8)}.filter-bar{flex-wrap:nowrap}}@media(min-width:1024px){.container{max-width:900px}.admin-grid{grid-template-columns:repeat(3,1fr)}}@media(prefers-reduced-motion:reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}@media(prefers-color-scheme:light){:root{color-scheme:dark}}@media print{body{background:#fff;color:#000;padding:0}.container{max-width:100%;box-shadow:none;border:1px solid #ccc}.nav-button,.connection-status,.queue-indicator,.debug-panel,.debug-toggle,.modal{display:none!important}.transaction-card,.scoreboard-entry,.token-detail-card{break-inside:avoid}}@media(hover:none)and (pointer:coarse){.btn:hover,.nav-button:hover,.card-interactive:hover,.transaction-card:hover,.scoreboard-entry:hover{transform:none}.btn{min-height:var(--touch-target-comfortable)}.nav-button{min-height:var(--touch-target-comfortable);min-width:var(--touch-target-comfortable)}}@media(prefers-contrast:high){:root{--color-border: #888;--color-text-secondary: #bbb}.btn,.card,input,select{border-width:2px}}@media(max-height:500px)and (orientation:landscape){body{padding:var(--space-2)}.container{padding:var(--space-3)}.header{margin-bottom:var(--space-3)}.scan-area{padding:var(--space-4)}.scan-icon{font-size:36px;margin-bottom:var(--space-2)}.numpad{margin:var(--space-3) 0}.numpad button{height:48px;font-size:var(--text-lg)}.scroll-container{max-height:200px}}
